nodes:
  begin:
    type: variant
    q:
      - 'Готовы?'
      - 'Приступим?'
    a:
      name: 'Поехали!'
      goto: q1

  q1:
    type: variant
    q: 'Выберите один из пунктов меню'
    a:
     - name: 'Предложить свою идею'
       goto: q_idea

     - name: 'Найти точки переработки возле дома'
       goto: q_points

     - name: 'Получить гид по устойчивому образу жизни'
       goto: q_guide

  q_idea:
    type: variant
    q: 'Один из способов вырабатывать полезные привычки – вдохновляться примерами других. Расскажите нам о том, что вы делаете для борьбы с изменением климата. Я использую ваш ответ при подготовке к нашей конференции. А в подарок за вашу идею я подарю вам эксклюзивный стикерпак.'
    a:
      - name: 'Кажется, у меня нет таких привычек'
        goto: q_learnmore

      - name: 'Давайте расскажу свой пример'
        goto: q_describe

  q_learnmore:
    type: variant
    q: 'Ничего. Тогда давайте я расскажу вам о том, с чего начать и найду точки раздельного сбора мусора возле вашего дома.'
    a:
      - name: 'Хочу узнать об устойчивом образе жизни'
        goto: q_guidemedia

      - name: 'Мне это не очень интересно'
        goto: q1

      - words: '*'
        goto: q1

  q_describe:
    type: plain
    q: 'Прекрасно. Опишите, пожалуйста, ваши устойчивые привычки'
    a:
      - words: '*'
        goto: q_moremedia

  q_moremedia:
    type: variant
    q: 'Спасибо! Может, добавите фотографию?'
    a:
      - name: 'У меня нет фото'
        goto: q_thankyouidea

      - name: 'Отправить фото'
        goto:  q_thankyouidea #как создать ноду для добавления медиафайла? Пока что пропустила этот шаг

  q_thankyouidea:
     q: 'Спасибо, что поделились идеей' #здесь я должна добавить стикерпак, но как это сделать?
     a:
       - words: (*)
         goto: q1

  q_points:
     type: variant
     q: 'Отлично. Я помогу вам найти точки раздельного сбора мусора и переработки неподалеку от дома'
     a:
       - name: 'Зачем это нужно?'
         goto: q2_1

       - name: 'Отлично, покажите мне точки!'
         goto: q2_2

       - words:
          - нет
          - не хочу
          - отстань
         goto: q1

  q2_2:
     type: location
     wrong: 'Кажется, мы не поняли друг друга. Если вы передумали делиться локацией, напишите "нет"'
     q: 'Отметьте на карте место для реализации идеи. Если вы пользуетесь телефоном, нажмите на скрепку и выберите "Поделиться локацией"'
     a:

      - words:
        - нет
        goto: q1

      - type: location
        goto: q2_3

      - name: 'Я передумал(а)'
        goto: end

  q2_3:
     type: plain
     q: 'Спасибо! Сейчас подберу для вас удобные точки. А вы напишите, как вам работа чатбота'
     a:

       - words: "*"
         goto: end


  q_guide:
     type: plain
     q: 'Ловите наш гид!'  #как добавить прикрепленный документ? должна ли это быть отдельная нода или документ крепится к кнопке?
     a:
      - name: 'Скачать'
        goto: end


  end:
    type: variant
    q: 'Надеюсь, вам было полезно. До новых встреч!'
    a:
      name: 'Заново'
      goto: begin

default: begin
wrong: 'Не понял ваш запрос. Попробуете ещё раз?'
